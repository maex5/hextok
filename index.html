<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Hextok</title>
  <style>
    * { 
      margin: 0; 
      padding: 0; 
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    html, body { 
      height: 100%; 
      overflow: hidden; 
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background: black;
      touch-action: pan-y;
    }

    #container {
      height: 100vh;
      width: 100vw;
      overflow-y: scroll;
      overflow-x: hidden;
      position: relative;
      background: #000;
      scroll-snap-type: y mandatory;
      -webkit-overflow-scrolling: touch;
      touch-action: pan-y;
    }

    .slide {
      height: 100vh;
      width: 100vw;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      justify-content: flex-end;
      padding: 0 1.5rem 4rem;
      color: white;
      scroll-snap-align: start;
      scroll-snap-stop: always;
      position: relative;
      user-select: none;
      transition: opacity 0.3s;
    }

    .slide .right-bar,
    .slide .desc {
      opacity: 0.5;
      transition: opacity 0.3s;
    }

    .slide.active .right-bar,
    .slide.active .desc {
      opacity: 1;
    }

    .slide::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: inherit;
      z-index: -1;
    }

    .top-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 3.2rem;
      background: transparent;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      z-index: 1001;
      pointer-events: none;
    }

    .top-bar-inner {
      display: flex;
      gap: 2.5rem;
      pointer-events: auto;
      background: none;
      border-radius: 0;
      padding: 0;
    }

    .top-bar-label {
      font-size: 1.1rem;
      font-weight: 700;
      color: #fff;
      opacity: 0.5;
      letter-spacing: 0.5px;
      cursor: pointer;
      padding: 0.2rem 0.7rem 0.1rem 0.7rem;
      border-radius: 0;
      background: none;
      transition: opacity 0.2s;
      position: relative;
      display: inline-block;
    }

    .top-bar-label.active {
      color: #fff;
      opacity: 1;
    }

    .top-bar-label.active::after {
      content: '';
      display: block;
      margin: 0 auto;
      margin-top: 0.2rem;
      width: 30px;
      height: 3px;
      background: #fff;
      border-radius: 2px;
    }

    .right-bar {
      position: absolute;
      right: 0.7rem;
      top: 4.2rem;
      bottom: 5.5rem;
      width: 3.5rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-end;
      z-index: 900;
      pointer-events: none;
      transition: opacity 0.3s;
    }

    .right-bar-inner {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.2rem;
      pointer-events: auto;
    }

    .profile-pic {
      width: 2.7rem;
      height: 2.7rem;
      border-radius: 50%;
      border: 2px solid #fff;
      margin-bottom: 0.5rem;
      object-fit: cover;
      background: linear-gradient(135deg, #fe2c55 40%, #25f4ee 100%);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .action-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #fff;
      cursor: pointer;
      font-size: 1.7rem;
      user-select: none;
      transition: transform 0.2s;
    }

    .action-btn .count {
      font-size: 0.85rem;
      font-weight: 600;
      margin-top: 0.1rem;
      color: #fff;
      text-shadow: 0 1px 2px rgba(0,0,0,0.5);
    }

    .action-btn.liked {
      color: #fe2c55;
      transform: scale(1.15);
    }

    .spinning-disc {
      margin-top: 1.2rem;
      width: 2.2rem;
      height: 2.2rem;
      border-radius: 50%;
      border: 2px solid #fff;
      background: linear-gradient(135deg, #fe2c55 40%, #25f4ee 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      animation: spin 1.5s linear infinite;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    .spinning-disc-inner {
      width: 1.2rem;
      height: 1.2rem;
      border-radius: 50%;
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      color: #fe2c55;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .bottom-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 4rem;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      display: flex;
      justify-content: space-around;
      align-items: center;
      padding: 0 1rem;
      z-index: 1000;
    }

    .bottom-bar-icon {
      color: white;
      font-size: 1.5rem;
      opacity: 0.8;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
    }

    .bottom-bar-label {
      font-size: 0.7rem;
      margin-top: 0.1rem;
      opacity: 0.7;
    }

    .caption-container {
      position: relative;
      width: 100%;
      max-width: 90%;
      margin-bottom: 0.2rem;
      z-index: 10;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 0.1rem;
    }

    .username {
      font-size: 1rem;
      font-weight: 700;
      margin-bottom: 0.15rem;
      color: #fff;
      text-shadow: 0 1px 2px rgba(0,0,0,0.5);
      letter-spacing: 0.01em;
    }

    .desc {
      font-size: 1.05rem;
      color: #eee;
      margin-bottom: 0.2rem;
      text-shadow: 0 1px 2px rgba(0,0,0,0.5);
      display: block;
      line-height: 1.4;
      word-break: break-all;
      transition: opacity 0.3s;
    }

    .hex-caption {
      font-size: 0.98rem;
      color: #fff;
      opacity: 0.92;
      font-weight: 400;
      margin-bottom: 0.2rem;
      text-shadow: 0 1px 2px rgba(0,0,0,0.5);
      background: none;
      padding: 0;
      border-radius: 0;
      letter-spacing: 0.01em;
      line-height: 1.3;
      word-break: break-all;
      transition: opacity 0.3s;
    }

    .tiktok-badge {
      display: inline-block;
      background: rgba(0,0,0,0.4);
      color: #fff;
      font-size: 0.92em;
      font-weight: 700;
      border-radius: 0.5em;
      padding: 0.1em 0.6em;
      margin-bottom: 0.2em;
      letter-spacing: 0.01em;
      margin-left: 0;
    }

    .gradient-indicator {
      display: none;
    }

    .like-animation {
      position: absolute;
      font-size: 5rem;
      color: #fe2c55;
      pointer-events: none;
      animation: likeAnimation 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
      opacity: 0;
      z-index: 1000;
    }

    @keyframes likeAnimation {
      0% { transform: scale(0.5); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: scale(1.5); opacity: 0; }
    }
  </style>
</head>
<body>
  <div class="top-bar">
    <div class="top-bar-inner">
      <span class="top-bar-label active">Hex</span>
      <span class="top-bar-label">Tok</span>
    </div>
  </div>
  <div id="container"></div>
  <div class="bottom-bar">
    <div class="bottom-bar-icon">
      <span>üè†</span>
      <span class="bottom-bar-label">Home</span>
    </div>
    <div class="bottom-bar-icon">
      <span>üë•</span>
      <span class="bottom-bar-label">Friends</span>
    </div>
    <div class="bottom-bar-icon">
      <span style="font-size:2rem; margin-top:-0.3rem;">Ôºã</span>
    </div>
    <div class="bottom-bar-icon">
      <span>üì•</span>
      <span class="bottom-bar-label">Inbox</span>
    </div>
    <div class="bottom-bar-icon">
      <span>üë§</span>
      <span class="bottom-bar-label">Profile</span>
    </div>
  </div>

  <script>
    const container = document.getElementById("container");
    let currentIndex = 0;
    let slides = [];
    let isScrolling = false;
    let scrollTimeout;
    let lastScrollTime = 0;
    const SCROLL_COOLDOWN = 500;

    function randomHex() {
      return '#' + Math.floor(Math.random() * 0xffffff).toString(16).padStart(6, '0');
    }

    function randomUsername() {
      const names = [
        "hexcat", "tokster", "cssguru", "colorwiz", "shadez", "gradi", "toktok", "huey", "pastel", "neonbyte", "rgbfan", "minty", "sunset", "midnight", "splash", "vivid", "gloss", "tintz", "pallete", "blendr", "chromie",
        "pixelpop", "lumina", "frosty", "glimmer", "spectrum", "prism", "twilight", "nova", "ember", "aura", "zenith", "solace", "blitz", "onyx", "emberly", "luxe", "muse", "novahex", "glo", "shadezzy", "tintin"
      ];
      return '@' + names[Math.floor(Math.random() * names.length)] + Math.floor(Math.random() * 1000);
    }

    function randomGradient() {
      return `linear-gradient(135deg, ${randomHex()} 0%, ${randomHex()} 100%)`;
    }

    function randomCount(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function formatCount(n) {
      if (n >= 1e6) return (n/1e6).toFixed(1) + 'M';
      if (n >= 1e3) return (n/1e3).toFixed(1) + 'K';
      return n;
    }

    function createLikeAnimation(x, y) {
      const heart = document.createElement('div');
      heart.className = 'like-animation';
      heart.textContent = '‚ù§';
      heart.style.left = `${x}px`;
      heart.style.top = `${y}px`;
      document.body.appendChild(heart);
      
      heart.addEventListener('animationend', () => heart.remove());
    }

    function createRightBar(slide) {
      const rightBar = document.createElement('div');
      rightBar.className = 'right-bar';
      const rightBarInner = document.createElement('div');
      rightBarInner.className = 'right-bar-inner';
      // Profile pic (random gradient)
      const profilePic = document.createElement('div');
      profilePic.className = 'profile-pic';
      profilePic.style.background = slide._profileGradient;
      rightBarInner.appendChild(profilePic);
      // Like
      const likeBtn = document.createElement('div');
      likeBtn.className = 'action-btn like-btn';
      likeBtn.innerHTML = `<span>‚ù§</span><span class="count">${formatCount(slide._likes)}</span>`;
      rightBarInner.appendChild(likeBtn);
      // Comment
      const commentBtn = document.createElement('div');
      commentBtn.className = 'action-btn';
      commentBtn.innerHTML = `<span>üí¨</span><span class="count">${formatCount(slide._comments)}</span>`;
      rightBarInner.appendChild(commentBtn);
      // Bookmark
      const bookmarkBtn = document.createElement('div');
      bookmarkBtn.className = 'action-btn';
      bookmarkBtn.innerHTML = `<span>üîñ</span><span class="count">${formatCount(slide._bookmarks)}</span>`;
      rightBarInner.appendChild(bookmarkBtn);
      // Share
      const shareBtn = document.createElement('div');
      shareBtn.className = 'action-btn';
      shareBtn.innerHTML = `<span>‚ÜóÔ∏è</span><span class="count">${formatCount(slide._shares)}</span>`;
      rightBarInner.appendChild(shareBtn);
      // Spinning disc
      const disc = document.createElement('div');
      disc.className = 'spinning-disc';
      disc.innerHTML = '<div class="spinning-disc-inner">üéµ</div>';
      rightBarInner.appendChild(disc);
      rightBar.appendChild(rightBarInner);
      return rightBar;
    }

    function createSlide() {
      const el = document.createElement("div");
      el.className = "slide";

      // Generate random values first
      el._profileGradient = randomGradient();
      el._likes = randomCount(100, 1000000);
      el._comments = randomCount(10, 10000);
      el._bookmarks = randomCount(10, 10000);
      el._shares = randomCount(10, 100000);

      const isGradient = Math.random() > 0.5;
      let hexText = "";
      let gradientBadge = null;
      let bg;
      
      if (isGradient) {
        const from = randomHex();
        const to = randomHex();
        bg = `linear-gradient(to bottom right, ${from}, ${to})`;
        hexText = `${from} ‚Üí ${to}`;
        
        gradientBadge = document.createElement('span');
        gradientBadge.className = 'tiktok-badge';
        gradientBadge.textContent = 'Gradient';
      } else {
        bg = randomHex();
        hexText = bg;
      }

      el.style.background = bg;

      const captionContainer = document.createElement("div");
      captionContainer.className = "caption-container";

      // Gradient badge (if any, now white and above username)
      if (gradientBadge) captionContainer.appendChild(gradientBadge);

      const username = document.createElement("div");
      username.className = "username";
      username.textContent = randomUsername();
      captionContainer.appendChild(username);

      const hexCaption = document.createElement("div");
      hexCaption.className = "hex-caption";
      hexCaption.textContent = hexText;
      captionContainer.appendChild(hexCaption);

      const desc = document.createElement("div");
      desc.className = "desc";
      desc.textContent = '';
      captionContainer.appendChild(desc);

      el.appendChild(captionContainer);

      // Right bar (per slide)
      el.appendChild(createRightBar(el));

      let lastTap = 0;
      el.addEventListener('click', (e) => {
        const currentTime = new Date().getTime();
        const tapLength = currentTime - lastTap;
        if (tapLength < 300 && tapLength > 0) {
          createLikeAnimation(e.clientX, e.clientY);
          if (navigator.vibrate) navigator.vibrate([0, 50, 50, 50]);
        }
        lastTap = currentTime;
      });

      return el;
    }

    function loadMoreSlides() {
      const currentScroll = container.scrollTop;
      const viewportHeight = window.innerHeight;
      const totalHeight = container.scrollHeight;
      
      if (totalHeight - (currentScroll + viewportHeight) < viewportHeight * 2) {
        const newSlide = createSlide();
        container.appendChild(newSlide);
        slides.push(newSlide);
      }
    }

    function setActiveSlide(newIndex) {
      slides.forEach((slide, i) => {
        if (i === newIndex) {
          slide.classList.add('active');
        } else {
          slide.classList.remove('active');
        }
      });
    }

    function handleScroll() {
      const now = Date.now();
      if (now - lastScrollTime < SCROLL_COOLDOWN) return;
      
      if (isScrolling) return;
      
      clearTimeout(scrollTimeout);
      isScrolling = true;
      lastScrollTime = now;

      const currentScroll = container.scrollTop;
      const viewportHeight = window.innerHeight;
      const newIndex = Math.round(currentScroll / viewportHeight);
      
      if (newIndex !== currentIndex) {
        currentIndex = newIndex;
        loadMoreSlides();
      }

      setActiveSlide(currentIndex);
      isScrolling = false;
    }

    function init() {
      // Create initial slides
      for (let i = 0; i < 3; i++) {
        const slide = createSlide();
        container.appendChild(slide);
        slides.push(slide);
      }

      setActiveSlide(0);

      container.addEventListener('scroll', handleScroll, { passive: true });

      let wheelTimeout;
      container.addEventListener('wheel', (e) => {
        e.preventDefault();
        
        if (wheelTimeout) return;
        wheelTimeout = setTimeout(() => {
          wheelTimeout = null;
        }, SCROLL_COOLDOWN);

        const delta = Math.sign(e.deltaY) * window.innerHeight;
        container.scrollBy({
          top: delta,
          behavior: 'smooth'
        });
      }, { passive: false });

      let touchStartY = 0;
      let touchEndY = 0;
      let touchTimeout;

      container.addEventListener('touchstart', (e) => {
        touchStartY = e.touches[0].clientY;
      }, { passive: true });

      container.addEventListener('touchmove', (e) => {
        if (touchTimeout) return;
        
        touchEndY = e.touches[0].clientY;
        const diff = touchStartY - touchEndY;
        
        if (Math.abs(diff) > 50) {
          touchTimeout = setTimeout(() => {
            touchTimeout = null;
          }, SCROLL_COOLDOWN);

          const direction = diff > 0 ? 1 : -1;
          container.scrollBy({
            top: direction * window.innerHeight,
            behavior: 'smooth'
          });
          touchStartY = touchEndY;
        }
      }, { passive: true });
    }

    init();
  </script>
</body>
</html> 